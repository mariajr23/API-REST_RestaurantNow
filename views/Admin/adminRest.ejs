<!DOCTYPE html>
<html lang="es">
  <head>
    <link
      href="/node_modules/bootstrap/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Administrar Restaurantes - Admin Dashboard</title>
    <link rel="stylesheet" href="/css/estilos.css" />
    <link rel="icon" href="/favicon.png" />
  </head>
  <body>
    <nav class="sidebar">
      <h4>Admin Menu</h4>
      <ul class="nav flex-column">
        <li class="nav-item">
          <a class="nav-link" href="/admin/adminUser">Gestionar Usuarios</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/admin/adminRest">Gestionar Restaurantes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/user/perfil">Perfil</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/logout">Cerrar Sesión</a>
        </li>
      </ul>
    </nav>

    <!-- Main Content -->
    <div class="main-content">
      <h1 class="text-center">Solicitudes Pendientes</h1>
      <table class="table table-striped table-hover">
        <thead class="thead-dark">
          <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Email</th>
            <th>Teléfono</th>
            <th>Dirección</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <% if (solicitudes && solicitudes.length > 0) { %> <%
          solicitudes.forEach(restaurante => { %>
          <tr>
            <td><%= restaurante.id_restaurante %></td>
            <td><%= restaurante.nombre %></td>
            <td><%= restaurante.email %></td>
            <td><%= restaurante.telefono %></td>
            <td><%= restaurante.direccion %></td>
            <td>
              <a
                href="/admin/restaurantes/aceptar/<%= restaurante.id_restaurante %>"
                class="btn btn-success"
                >Aceptar</a
              >
              <a
                href="/admin/restaurantes/rechazar/<%= restaurante.id_restaurante %>"
                class="btn btn-danger"
                >Rechazar</a
              >
            </td>
          </tr>
          <% }) %> <% } else { %>
          <tr>
            <td colspan="6" class="text-center">
              No hay solicitudes pendientes.
            </td>
          </tr>
          <% } %>
        </tbody>
      </table>

      <h1 class="text-center">Restaurantes Aceptados</h1>
      <table class="table table-striped table-hover">
        <thead class="thead-dark">
          <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Email</th>
            <th>Teléfono</th>
            <th>Dirección</th>
          </tr>
        </thead>
        <tbody>
          <% if (restaurantes && restaurantes.length > 0) { %> <%
          restaurantes.forEach(restaurante => { %>
          <tr>
            <td><%= restaurante.id_restaurante %></td>
            <td><%= restaurante.nombre %></td>
            <td><%= restaurante.email %></td>
            <td><%= restaurante.telefono %></td>
            <td><%= restaurante.direccion %></td>
          </tr>
          <% }) %> <% } else { %>
          <tr>
            <td colspan="5" class="text-center">
              No hay restaurantes aceptados.
            </td>
          </tr>
          <% } %>
        </tbody>
      </table>
    </div>

    <script src="/node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
